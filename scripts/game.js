!function(){function t(e,o,n){function i(r,s){if(!o[r]){if(!e[r]){var u="function"==typeof require&&require;if(!s&&u)return u(r,!0);if(a)return a(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var l=o[r]={exports:{}};e[r][0].call(l.exports,function(t){var o=e[r][1][t];return i(o||t)},l,l.exports,t,e,o,n)}return o[r].exports}for(var a="function"==typeof require&&require,r=0;r<n.length;r++)i(n[r]);return i}return t}()({1:[function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=t("states/BootState"),u=n(s),c=t("states/GameState"),l=n(c),h=t("./states/BoardState"),f=n(h),d=t("./states/GameOverState"),p=n(d),m=function(t){function e(){i(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,790,620,Phaser.AUTO,"content",null));return t.state.add("BootState",u["default"],!1),t.state.add("GameState",l["default"],!1),t.state.add("BoardState",f["default"],!1),t.state.add("GameOverState",p["default"],!1),t.match3={},t.state.start("BootState"),t}return r(e,t),e}(Phaser.Game);new m},{"./states/BoardState":15,"./states/GameOverState":17,"states/BootState":16,"states/GameState":18}],2:[function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(t,o,a,r){n(this,e);var s=i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return s.visible=!0,s.game.stage.addChild(s),s}return a(e,t),e}(Phaser.Image);o["default"]=r},{}],3:[function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(t,o,a,r){n(this,e);var s=i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return s.anchor.set(.5,.5),s.scale.set(.6,.6),s.game.stage.addChild(s),s}return a(e,t),e}(Phaser.Image);o["default"]=r},{}],4:[function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(t,o,a,r){n(this,e);var s=i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return s.anchor.set(.5,.5),s.scale.set(.6,.6),s.game.stage.addChild(s),s}return a(e,t),e}(Phaser.Image);o["default"]=r},{}],5:[function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),s=function(t){function e(t,o,a,r,s){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;n(this,e);var l=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o,a,r));return l.keyState=s,l.anchor.set(u,u),l.scale.set(c,c),l.onInputUp.add(l.onClick,l),l.game.stage.addChild(l),l}return a(e,t),r(e,[{key:"onClick",value:function(){"play"===this.key&&(this.game.match3.startGame=!0,this.game.state.start(this.keyState,!0,!1))}}]),e}(Phaser.Button);o["default"]=s},{}],6:[function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),s=function(t){function e(t,o,a,r,s,u){n(this,e);var c=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o,a,r));return c.scale.set(u,u),c.visible=!0,c.soundKeys={key:r,keyNo:s},c.onInputUp.add(c.onClick,c),c.game.stage.addChild(c),c}return a(e,t),r(e,[{key:"onClick",value:function(){var t=void 0;this.game.match3.playSoundBackground=!this.game.match3.playSoundBackground,this.game.match3.isPlayedSoundBackground=!this.game.match3.playSoundBackground,t=this.game.match3.playSoundBackground?this.soundKeys.key:this.soundKeys.keyNo,this.key=t,this.loadTexture(t)}}]),e}(Phaser.Button);o["default"]=s},{}],7:[function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(t){var o=t.game,a=t.x,r=t.y,s=t.image,u=t.width,c=t.height,l=t.scaleX,h=t.scaleY;n(this,e);var f=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,o,a,r,u,c,s));return f.scale.set(l,h),f.rotation=Math.PI,f.game.stage.addChild(f),f}return a(e,t),e}(Phaser.TileSprite);o["default"]=r},{}],8:[function(t,e,o){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(o,"__esModule",{value:!0});var s=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),u=function(t){function e(t,o,n){i(this,e);var r=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.x=o,r.y=n,r.canMove=!1,r.isSelected=!1,r.selectedDonut=null,r.newPosition=null,r.countKill=0,r.swapPosition={},r.isBadStep=!1,r.isStep=!1,r.boardCols=6,r.boardRows=8,r.donutsSize=60,r.donutsScale=.7,r.level=1,r.countCombo=0,r.soundBackground=t.add.audio("backgroundMusic"),r.soundBackground.allowMultiple=!0,r.soundSelect=t.add.audio("killDonut"),r.soundCombo1=t.add.audio("selectDonut1"),r.soundCombo2=t.add.audio("selectDonut2"),r.soundCombo3=t.add.audio("selectDonut3"),r.soundCombo4=t.add.audio("selectDonut4"),r.soundCombo5=t.add.audio("selectDonut5"),r.soundCombo6=t.add.audio("selectDonut6"),r.soundCombo7=t.add.audio("selectDonut7"),r.soundCombo8=t.add.audio("selectDonut8"),r.soundCombo9=t.add.audio("selectDonut9"),r.soundSelect.allowMultiple=!0,r.soundCombo1.allowMultiple=!0,r.soundCombo2.allowMultiple=!0,r.soundCombo3.allowMultiple=!0,r.soundCombo4.allowMultiple=!0,r.soundCombo5.allowMultiple=!0,r.soundCombo6.allowMultiple=!0,r.soundCombo7.allowMultiple=!0,r.soundCombo8.allowMultiple=!0,r.soundCombo9.allowMultiple=!0,r.arrSoundCombo=[r.soundCombo1,r.soundCombo2,r.soundCombo3,r.soundCombo4,r.soundCombo5,r.soundCombo6,r.soundCombo7,r.soundCombo8,r.soundCombo9],r.game.match3.startGame&&(r.game.match3.playSoundBackground=!0,r.fillBoard()),r.game.stage.addChild(r),r}return r(e,t),s(e,[{key:"fillBoard",value:function(){this.visible=!1;for(var t=0;t<this.boardCols;t++)for(var e=0;e<this.boardRows;e++)this.newDonut(t,e);this.game.input.addMoveCallback(this.checkCanMove,this),this.startCheckMatchDonuts()}},{key:"newDonut",value:function(t,e){var o=this.create(t*this.donutsSize,e*this.donutsSize,this.getKey(1,6));o.scale.set(this.donutsScale,this.donutsScale),o.name=this.getName(t,e),o.inputEnabled=!0,o.events.onInputDown.add(this.selectDonut,this),o.events.onInputUp.add(this.checkDonut,this),o.positionCol=t,o.positionRow=e,o.id=this.getDonutId(t,e)}},{key:"startCheckMatchDonuts",value:function(){this.checkMatchDonuts(),this.clearKilledDonuts(),this.countKill>0?(this.dropDownDonuts(),this.game.time.events.add(this.countKill+100,this.startBornDonuts,this)):(this.game.match3.isStartedGame=!0,this.visible=!0)}},{key:"startBornDonuts",value:function(){this.bornDonuts(),this.countKill&&this.game.time.events.add(this.countKill+200,this.startCheckMatchDonuts,this)}},{key:"selectDonut",value:function(t){this.game.match3.isStartedGame&&!this.isStep&&(this.isSelected=!0,this.selectedDonut=t,this.game.match3.playSoundBackground&&this.soundSelect.play())}},{key:"checkCanMove",value:function(t,e,o){if(this.game.match3.isStartedGame&&this.isSelected){var n=(e-this.x)/this.donutsSize,i=(o-this.y)/this.donutsSize;n>=0&&n<this.boardCols&&i>=0&&i<this.boardRows?(this.canMove=!0,this.newPosition={i:Math.floor(n),j:Math.floor(i)}):this.canMove=!1}}},{key:"checkDonut",value:function(){this.game.match3.isStartedGame&&(this.isSelected=!1,!this.canMove||null===this.selectedDonut||this.selectedDonut.positionCol!==this.newPosition.i&&this.selectedDonut.positionRow!==this.newPosition.j||this.selectedDonut.positionCol===this.newPosition.i&&this.selectedDonut.positionRow===this.newPosition.j||(this.isBadStep=!0,this.swapDonuts(this.selectedDonut,Math.sign(this.newPosition.i-this.selectedDonut.positionCol),Math.sign(this.newPosition.j-this.selectedDonut.positionRow))),this.selectedDonut=null)}},{key:"swapDonuts",value:function(t,e,o){this.swapPosition.firstI=t.positionCol,this.swapPosition.firstJ=t.positionRow,this.swapPosition.secondI=t.positionCol+e,this.swapPosition.secondJ=t.positionRow+o;var n=t,i=this.findDonut(this.swapPosition.secondI,this.swapPosition.secondJ);this.doSwapDonuts(Object.assign({donutFirst:n,donutSecond:i},this.swapPosition)),this.game.time.events.add(200,this.playCheckMatchDonuts,this)}},{key:"playCheckMatchDonuts",value:function(){if(this.checkMatchDonuts(),this.clearKilledDonuts(this.game.match3.playSoundBackground),this.countKill>0)this.game.match3.playerScore+=this.countKill,this.isBadStep=!1,this.isStep=!0,this.countCombo<8?this.countCombo++:this.countCombo=8,this.dropDownDonuts(),this.game.time.events.add(this.countKill+100,this.playBornDonuts,this);else{if(this.getColorArray(),this.isStep=!1,this.countCombo=0,this.isBadStep){var t=this.findDonut(this.swapPosition.firstI,this.swapPosition.firstJ),e=this.findDonut(this.swapPosition.secondI,this.swapPosition.secondJ);this.doSwapDonuts(Object.assign({donutFirst:t,donutSecond:e},this.swapPosition))}this.swapPosition={}}}},{key:"playBornDonuts",value:function(){this.bornDonuts(),this.countKill&&this.game.time.events.add(this.countKill+200,this.playCheckMatchDonuts,this)}},{key:"doSwapDonuts",value:function(t){var e=t.donutFirst,o=t.donutSecond,n=t.firstI,i=t.firstJ,a=t.secondI,r=t.secondJ;this.setPosition(e,a,r),this.setPosition(o,n,i),e.name=this.getName(a,r),o.name=this.getName(n,i),this.game.add.tween(e).to({x:a*this.donutsSize,y:r*this.donutsSize},100,Phaser.Easing.Linear.None,!0),this.game.add.tween(o).to({x:n*this.donutsSize,y:i*this.donutsSize},100,Phaser.Easing.Linear.None,!0)}},{key:"getDonutId",value:function(t,e){return t+e*this.boardCols}},{key:"getName",value:function(t,e){return"donut"+t+"x"+e}},{key:"getKey",value:function(t,e){return"donut"+this.game.rnd.integerInRange(t,e)}},{key:"findDonut",value:function(t,e){return this.iterate("id",this.getDonutId(t,e),Phaser.Group.RETURN_CHILD)}},{key:"setPosition",value:function(t,e,o){t.positionCol=e,t.positionRow=o,t.id=this.getDonutId(e,o)}},{key:"moveDonuts",value:function(t,e,o,n){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];i?this.game.add.tween(t).to({x:e*this.donutsSize,y:(o+n)*this.donutsSize},100*n,Phaser.Easing.Linear.None,!0):t.position={x:e*this.donutsSize,y:(o+n)*this.donutsSize}}},{key:"markDonutsHorizontalToKill",value:function(t,e,o){for(var n=this.findDonut(e,o),i=void 0,a=void 0,r=e,s=0;r>=0&&t.key===n.key;)s++,r--,n=this.findDonut(r,o);for(i=r+1,r=e,n=this.findDonut(e,o);r<this.boardCols&&t.key===n.key;)s++,r++,n=this.findDonut(r,o);if(a=r-1,s>3)for(var u=i;u<=a;u++)n=this.findDonut(u,o),n.kill()}},{key:"markDonutsVerticalToKill",value:function(t,e,o){for(var n=t,i=void 0,a=void 0,r=o,s=0;r>=0&&t.key===n.key;)s++,r--,n=this.findDonut(e,r);for(i=r+1,r=o,n=t;r<this.boardRows&&t.key===n.key;)s++,r++,n=this.findDonut(e,r);if(a=r-1,s>3)for(var u=i;u<=a;u++)n=this.findDonut(e,u),n.kill()}},{key:"checkMatchDonuts",value:function(){for(var t=0;t<this.boardCols;t++)for(var e=0;e<this.boardRows;e++){var o=this.findDonut(t,e);this.markDonutsHorizontalToKill(o,t,e),this.markDonutsVerticalToKill(o,t,e)}}},{key:"clearKilledDonuts",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.countKill=0,this.forEach(function(o){if(!o.alive&&(t.countKill++,t.setPosition(o,-1,-1),e)){var n=t.arrSoundCombo[t.countCombo];n.play()}},this)}},{key:"dropDownDonuts",value:function(){for(var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=void 0,o=void 0,n=0;n<this.boardCols;n++){e=0;for(var i=this.boardRows-1;i>=0;i--)o=this.findDonut(n,i),null===o?e++:e>0&&(this.setPosition(o,n,i+e),this.moveDonuts(o,n,i,e,t),o.name=this.getName(n,i+e))}}},{key:"bornDonuts",value:function(){for(var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=0;e<this.boardCols;e++)for(var o=0;null===this.findDonut(e,o)&&o<this.boardRows;){var n=void 0;n=this.getFirstDead(),console.log(n),null!==n&&(this.resetChild(n,e*this.donutsSize,o*this.donutsSize,this.getKey(1,6)),t&&n.scale.set(.1,.1),this.setPosition(n,e,o),n.name=this.getName(e,o),t&&this.game.add.tween(n.scale).to({x:this.donutsScale,y:this.donutsScale},200,Phaser.Easing.Linear.None,!0),o++)}}},{key:"refillBoard",value:function(){for(var t=0;t<this.boardCols;t++)for(var e=0;e<this.boardRows;e++){var o=this.findDonut(t,e);o.kill(),this.setPosition(o,-1,-1)}this.bornDonuts(),this.playCheckMatchDonuts()}},{key:"getColorArray",value:function(){var t=this,e=performance.now(),o=!1,i=[].concat(n(Array(this.boardCols))).map(function(){return Array(t.boardRows).fill(0)}),a=[].concat(n(Array(3))).map(function(){return Array(3).fill(0)});this.children.map(function(t){return{posColl:t.positionCol,posRow:t.positionRow,color:t.key}}).forEach(function(t){return i[t.posColl][t.posRow]=t.color});t:for(var r=0;r<this.boardCols-2;r++)for(var s=0;s<this.boardRows-2;s++){for(var u=0;u<3;u++)a[0][u]=i[r][s+u],a[1][u]=i[r+1][s+u],a[2][u]=i[r+2][s+u];for(var c=0;c<4;c++){if(o=o||this.template1(a)||this.template2(a)||this.template3(a)||this.template4(a)||this.template3(this.mirror(a))||this.template4(this.mirror(a)),this.countKill>0&&o){o=!0;break t}a=this.rotate(a)}}o||this.refillBoard(),e=performance.now()-e,console.log("time = ",e),console.log(o)}},{key:"rotate",value:function(t){for(var e=3,o=0;o<e/2;o++)for(var n=o;n<e-o-1;n++){var i=[t[n][e-1-o],t[e-1-o][e-1-n],t[e-1-n][o],t[o][n]];t[o][n]=i[0],t[n][e-1-o]=i[1],t[e-1-o][e-1-n]=i[2],t[e-1-n][o]=i[3]}return t}},{key:"mirror",value:function(t){for(var e=3,o=0;o<e/2;o++)for(var n=0;n<e/2;n++){var i=[t[e-o-1][n],t[o][n],t[e-o-1][e-n-1],t[o][e-n-1]];t[o][n]=i[0],t[e-o-1][n]=i[1],t[o][e-n-1]=i[2],t[e-o-1][e-n-1]=i[3]}return t}},{key:"template1",value:function(t){return t[0][0]===t[1][1]&&t[0][0]===t[0][2]}},{key:"template2",value:function(t){return t[0][1]===t[1][0]&&t[0][1]===t[2][1]}},{key:"template3",value:function(t){return t[0][0]===t[1][0]&&t[0][0]===t[2][1]}},{key:"template4",value:function(t){return t[0][0]===t[1][1]&&t[0][0]===t[2][1]}}]),e}(Phaser.Group);o["default"]=u},{}],9:[function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),s=function(t){function e(t,o,a,r){n(this,e);var s=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o,a,r));return s.anchor.set(.5,.5),s.scale.set(.01,.01),s.showGameOver(),s.game.stage.addChild(s),s}return a(e,t),r(e,[{key:"showGameOver",value:function(){this.game.add.tween(this.scale).to({x:1,y:1},300,Phaser.Easing.Linear.None,!0),this.game.time.events.add(200,this.showDonutsStorm,this)}}]),e}(Phaser.Image);o["default"]=s},{}],10:[function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(t,o,a,r){n(this,e);var s=i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return s.scale.set(.35,.35),s.game.stage.addChild(s),s}return a(e,t),e}(Phaser.Image);o["default"]=r},{}],11:[function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(t,o,a,r,s,u){n(this,e);var c=i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return c.scale.set(.12,.12),c.game.stage.addChild(c),c}return a(e,t),e}(Phaser.TileSprite);o["default"]=r},{}],12:[function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),s=function(t){function e(t,o,a,r){n(this,e);var s=i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return s.webFontConfig={active:function(){t.time.events.add(Phaser.Timer.SECOND,configText,this)},google:{families:["Fredoka One"]}},s.x=o,s.y=a,s.sizeBar={x:50,y:6,w:110,h:50},s.timeValue=0,s.isTimerStop=!1,s.configText(),s.game.stage.addChild(s),s}return a(e,t),r(e,[{key:"configText",value:function(){this.game.load.script("webfont","//ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js"),this.font="Fredoka One",this.fontSize="16pt",this.fill="#7beeda",this.boundsAlignH="center",this.boundsAlignV="middle",this.setShadow(4,4,"rgba(0,0,0,0.5)",6),this.bar=this.game.add.graphics(this.x,this.y),this.bar.drawRect(this.sizeBar.x,this.sizeBar.y,this.sizeBar.w,this.sizeBar.h),this.setTextBounds(this.sizeBar.x,this.sizeBar.y,this.sizeBar.w,this.sizeBar.h)}},{key:"startTimer",value:function(){this.timer=this.game.time.events.loop(Phaser.Timer.SECOND,this.updateTimer,this)}},{key:"stopTimer",value:function(){this.isTimerStop=!0,this.game.match3.isGameOver=!0}},{key:"updateTimer",value:function(){this.timeValue++,this.text=Math.floor(this.timeValue/60)+":"+this.padLeft(this.timeValue%60,"0",2),this.timeValue===this.game.match3.timeLevel&&this.stopTimer()}},{key:"padLeft",value:function(t,e,o){for(var n=String(t).split("");n.length<o;)n.unshift(e);return n.join("")}}]),e}(Phaser.Text);o["default"]=s},{}],13:[function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(t,o,a,r,s,u){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:.2;n(this,e);var l=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o,a,r*c,s*c,u));return l.tileScale.set(.2,.2),l.game.stage.addChild(l),l}return a(e,t),e}(Phaser.TileSprite);o["default"]=r},{}],14:[function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),s=function(t){function e(t,o,a,r,s){n(this,e);var u=i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return u.webFontConfig={active:function(){t.time.events.add(Phaser.Timer.SECOND,configText,this)},google:{families:["Fredoka One"]}},u.fontSize=s,u.anchor.set(.5,0),u.configText(),u.game.stage.addChild(u),u}return a(e,t),r(e,[{key:"configText",value:function(){this.textScript=this.game.load.script("webfont","//ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js"),this.font="Fredoka One",this.fill="#7beeda",this.setShadow(4,4,"rgba(0,0,0,0.5)",6)}},{key:"textOut",get:function(){return this}}]),e}(Phaser.Text);o["default"]=s},{}],15:[function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(o,"__esModule",{value:!0});var s=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),u=t("../objects/GameScoreObject"),c=n(u),l=t("../objects/GameTimeObject"),h=n(l),f=t("../objects/GameTimer"),d=n(f),p=t("../objects/GameDonuts"),m=n(p),b=t("../objects/GameBoard"),g=n(b),y=t("../objects/BackgroundGame"),w=n(y),v=t("../objects/LogoGame"),_=n(v),O=t("../objects/ButtonSound"),j=n(O),k=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return r(e,t),s(e,[{key:"init",value:function(){this.paramsBoard={width:618,height:700,scaleX:.6,scaleY:.7},this.deltaX=this.paramsBoard.width*this.paramsBoard.scaleX/2,this.deltaY=this.paramsBoard.height*this.paramsBoard.scaleY/2,this.centreGame={x:this.game.world.centerX,y:this.game.world.centerY},this.game.match3.timeLevel=90}},{key:"create",value:function(){this.background=new w["default"](this.game,0,0,"background"),this.logo=new _["default"](this.game,440,565,605,225,"logo"),this.menuSound=new j["default"](this.game,225,560,"sound","noSound",.4),this.gameBoard=new g["default"](Object.assign({game:this.game,x:this.centreGame.x+this.deltaX,y:this.centreGame.y+this.deltaY,image:"gameBoard"},this.paramsBoard)),this.gameScoreObject=new c["default"](this.game,205,4,"score"),this.gameScore=new d["default"](this.game,190,10,"0"),this.gameTimeObject=new h["default"](this.game,470,5,290,105,"timeUp"),this.gameTimer=new d["default"](this.game,385,10,"0:0"),this.gameDonuts=new m["default"](this.game,this.centreGame.x-this.deltaX,this.centreGame.y-this.deltaY)}},{key:"update",value:function(){this.game.match3.isStartedGame&&(this.gameScore.text=this.game.match3.playerScore,this.game.match3.isStartedTimer||(this.game.match3.isStartedTimer=!0,this.gameTimer.startTimer())),this.game.match3.playSoundBackground&&!this.game.match3.isPlayedSoundBackground&&(this.game.match3.isPlayedSoundBackground=!this.game.match3.isPlayedSoundBackground,this.gameDonuts.soundBackground.loop=!0,this.gameDonuts.soundBackground.play()),this.game.match3.playSoundBackground||(this.game.match3.isPlayedSoundBackground=!this.game.match3.isPlayedSoundBackground,this.gameDonuts.soundBackground.stop()),this.game.match3.isGameOver&&(this.gameDonuts.soundBackground.stop(),this.game.state.start("GameOverState"))}}]),e}(Phaser.State);o["default"]=k},{"../objects/BackgroundGame":2,"../objects/ButtonSound":6,"../objects/GameBoard":7,"../objects/GameDonuts":8,"../objects/GameScoreObject":10,"../objects/GameTimeObject":11,"../objects/GameTimer":12,"../objects/LogoGame":13}],16:[function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(o,"__esModule",{value:!0});var s=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),u=t("../objects/BackgroundGame"),c=n(u),l=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return r(e,t),s(e,[{key:"init",value:function(){this.game.match3.countDonutsAll=12,this.game.match3.countShadows=5,this.game.match3.countDonutsGame=6}},{key:"preload",value:function(){this.game.load.image("background","assets/image/backgrounds/background_purple.jpg"),this.game.load.image("logo","assets/image/donuts_logo.png"),this.game.load.image("donut","assets/image/donut.png"),this.game.load.image("shadow","assets/image/big-shadow.png"),this.game.load.image("play","assets/image/btn-play.png"),
this.game.load.image("gameBoard","assets/image/backgrounds/background.jpg"),this.game.load.image("score","assets/image/bg-score.png"),this.game.load.image("timeUp","assets/image/text-timeup.png"),this.game.load.image("back","assets/image/back-arrow-w.png"),this.game.load.image("sound","assets/image/btn-sfx.png"),this.game.load.image("noSound","assets/image/btn-sfx-no.png"),this.game.load.image("menu","assets/image/menu-bar-hamburger-w.png"),this.loadArrImages(this.game.match3.countDonutsAll),this.loadArrImages(this.game.match3.countShadows,"shadow","particles/particle-",1),this.game.load.audio("selectDonut1","assets/audio/select-1.mp3"),this.game.load.audio("selectDonut2","assets/audio/select-2.mp3"),this.game.load.audio("selectDonut3","assets/audio/select-3.mp3"),this.game.load.audio("selectDonut4","assets/audio/select-4.mp3"),this.game.load.audio("selectDonut5","assets/audio/select-5.mp3"),this.game.load.audio("selectDonut6","assets/audio/select-6.mp3"),this.game.load.audio("selectDonut7","assets/audio/select-7.mp3"),this.game.load.audio("selectDonut8","assets/audio/select-8.mp3"),this.game.load.audio("selectDonut9","assets/audio/select-9.mp3"),this.game.load.audio("killDonut","assets/audio/kill.mp3"),this.game.load.audio("backgroundMusic","assets/audio/background.mp3")}},{key:"create",value:function(){new c["default"](this.game,0,0,"background");this.state.start("GameState",!1,!0)}},{key:"padLeft",value:function(t,e,o){for(var n=t.split("");n.length<o;)n.unshift(e);return n.join("")}},{key:"loadArrImages",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"donut",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"game/gem-",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,i=1;i<=t;i++)this.game.load.image(""+e+i,"assets/image/"+o+(n>1?this.padLeft(String(i),"0",2):String(i))+".png")}}]),e}(Phaser.State);o["default"]=l},{"../objects/BackgroundGame":2}],17:[function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(o,"__esModule",{value:!0});var s=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),u=t("../objects/BackgroundGame"),c=n(u),l=t("../objects/GameOver"),h=n(l),f=t("../objects/TextFont"),d=n(f),p=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return r(e,t),s(e,[{key:"init",value:function(){this.game.match3.playSoundBackground=!1}},{key:"create",value:function(){new c["default"](this.game,0,0,"background"),new h["default"](this.game,this.world.width/2,this.game.height/2,"timeUp"),new d["default"](this.game,this.world.width/2,this.game.height/2+100,"Your score "+this.game.match3.playerScore,"36pt")}}]),e}(Phaser.State);o["default"]=p},{"../objects/BackgroundGame":2,"../objects/GameOver":9,"../objects/TextFont":14}],18:[function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(o,"__esModule",{value:!0});var s=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),u=t("../objects/BackgroundGame"),c=n(u),l=t("../objects/LogoGame"),h=n(l),f=t("../objects/BigDonut"),d=n(f),p=t("../objects/BigDonutShadow"),m=n(p),b=t("../objects/ButtonCallState"),g=n(b),y=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return r(e,t),s(e,[{key:"init",value:function(){this.game.match3.startGame=!1,this.game.match3.isStartedGame=!1,this.game.match3.isStartedTimer=!1,this.game.match3.playSoundBackground=!0,this.game.match3.isGameOver=!1,this.game.match3.playerScore=0,this.game.match3.isPlayedSoundBackground=!1}},{key:"create",value:function(){var t={centerX:this.game.world.centerX,centerY:this.game.world.centerY};new c["default"](this.game,0,0,"background"),new h["default"](this.game,30,20,605,225,"logo"),new m["default"](this.game,t.centerX+10,t.centerY+10-50,"shadow"),new d["default"](this.game,t.centerX,t.centerY-50,"donut"),new g["default"](this.game,t.centerX,t.centerY+220,"play","BoardState",.5,.7)}}]),e}(Phaser.State);o["default"]=y},{"../objects/BackgroundGame":2,"../objects/BigDonut":3,"../objects/BigDonutShadow":4,"../objects/ButtonCallState":5,"../objects/LogoGame":13}]},{},[1]);